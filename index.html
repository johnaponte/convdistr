<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="Convolute probabilistic distributions using the random generator function of each distribution. A new random number generator function is created that perform the mathematical operation on the individual random samples from the random generator function of each distribution. See the documentation for examples.">
<title>Convolute Probabilistic Distributions • convdistr</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png">
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Convolute Probabilistic Distributions">
<meta property="og:description" content="Convolute probabilistic distributions using the random generator function of each distribution. A new random number generator function is created that perform the mathematical operation on the individual random samples from the random generator function of each distribution. See the documentation for examples.">
<meta property="og:image" content="htinstatps://johnaponte.github.io/convdistr/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light" data-bs-theme="light"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">convdistr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.6.1</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="articles/sample_size.html">Sample size with Uncertainty</a>
    <a class="dropdown-item" href="articles/using-convdistr.html">Using the convdistr package</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/johnaponte/convdistr/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header">
<img src="logo.png" class="logo" alt=""><h1 id="the-convdistr-package">The convdistr package<a class="anchor" aria-label="anchor" href="#the-convdistr-package"></a>
</h1>
</div>
<p>John J. Aponte</p>
<p>The <code>convdistr</code> package provide tools to define distribution objects and make mathematical operations with them. It keep track of the results as if they where scalar numbers but maintaining the ability to obtain randoms samples of the convoluted distributions.</p>
<p>To install this package from github</p>
<p><code>devtools::install_github("johnaponte/convdistr", build_manual = T, build_vignettes = T)</code></p>
<div class="section level2">
<h2 id="practical-example">Practical example<a class="anchor" aria-label="anchor" href="#practical-example"></a>
</h2>
<p>What would be the resulting distribution of <em>a</em> + <em>b</em> * <em>c</em> if <em>a</em> is a <strong>normal</strong> distribution with mean 1 and standard deviation 0.5, <em>b</em> is a <strong>poisson</strong> distribution with lambda 5 and <em>c</em> is a <strong>beta</strong> distribution with shape parameters 10 and 20?</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="fu">library</span>(convdistr)</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="fu">new_NORMAL</span>(<span class="dv">1</span>,<span class="fl">0.5</span>)</span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a>b <span class="ot">&lt;-</span> <span class="fu">new_POISSON</span>(<span class="dv">5</span>)</span>
<span id="cb1-6"><a href="#cb1-6" tabindex="-1"></a>c <span class="ot">&lt;-</span> <span class="fu">new_BETA</span>(<span class="dv">10</span>,<span class="dv">20</span>)</span>
<span id="cb1-7"><a href="#cb1-7" tabindex="-1"></a>res <span class="ot">&lt;-</span> a <span class="sc">+</span> b <span class="sc">*</span> c</span>
<span id="cb1-8"><a href="#cb1-8" tabindex="-1"></a></span>
<span id="cb1-9"><a href="#cb1-9" tabindex="-1"></a><span class="fu">metadata</span>(res) </span>
<span id="cb1-10"><a href="#cb1-10" tabindex="-1"></a><span class="co">#&gt;   distribution     rvar</span></span>
<span id="cb1-11"><a href="#cb1-11" tabindex="-1"></a><span class="co">#&gt; 1  CONVOLUTION 2.666667</span></span>
<span id="cb1-12"><a href="#cb1-12" tabindex="-1"></a><span class="fu">summary</span>(res)</span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th style="text-align: left;">
distribution
</th>
<th style="text-align: left;">
varname
</th>
<th style="text-align: right;">
oval
</th>
<th style="text-align: right;">
nsample
</th>
<th style="text-align: right;">
mean_
</th>
<th style="text-align: right;">
sd_
</th>
<th style="text-align: right;">
lci_
</th>
<th style="text-align: right;">
median_
</th>
<th style="text-align: right;">
uci_
</th>
</tr></thead>
<tbody><tr class="odd">
<td style="text-align: left;">
CONVOLUTION
</td>
<td style="text-align: left;">
rvar
</td>
<td style="text-align: right;">
2.67
</td>
<td style="text-align: right;">
10000
</td>
<td style="text-align: right;">
2.66
</td>
<td style="text-align: right;">
1.02
</td>
<td style="text-align: right;">
0.94
</td>
<td style="text-align: right;">
2.56
</td>
<td style="text-align: right;">
4.95
</td>
</tr></tbody>
</table>
<div class="sourceCode" id="cb2"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="fu">ggDISTRIBUTION</span>(res) <span class="sc">+</span> <span class="fu">ggtitle</span>(<span class="st">"a + b * c"</span>)</span></code></pre></div>
<p><img src="https://user-images.githubusercontent.com/3891174/61119313-d3645e80-a49a-11e9-834e-74fc29fd1e37.png"></p>
<p>The result is a distribution with expected value 2.67. A sample from 10000 drawns of the distribution shows a mean value of 2.66, a median of 2.56 and 95% quantiles of 0.94, 4.95</p>
<p>The following sections describe the DISTRIBUTION object, how to create new DISTRIBUTION objects and how to make operations and mixtures with them.</p>
<p>Please note that when convoluting distributions, this package assumes the distributions are independent between them, i.e. their correlation is 0. If not, you need to implement specific distributions to handle the correlation, like the MULTIVARIATE object.</p>
</div>
<div class="section level2">
<h2 id="description-of-the-distribution-object">Description of the <code>DISTRIBUTION</code> object<a class="anchor" aria-label="anchor" href="#description-of-the-distribution-object"></a>
</h2>
<p>The <code>DISTRIBUTION</code> is kind of abstract class (or interface) that specific constructors should implement.</p>
<p>It contains 4 fields:</p>
<p><strong>distribution</strong> : A character with the name of the distribution implemented</p>
<p><strong>seed</strong> : A numerical seed that is use to get a repeatable sample in the <code>summary</code> function</p>
<p><strong>oval</strong> : The observed value. It is the value expected. It is used as a number for the mathematical operations of the distributions as if they were a simple scalar</p>
<p><strong>rfunc(n)</strong> : A function that generate random numbers from the distribution. Its only parameter <code>n</code> is the number of drawns of the distribution. It returns a matrix with as many rows as <code>n</code>, and as many columns as the dimensions of the distributions</p>
<p>The DISTRIBUTION object can support multidimensional distributions for example a dirichlet distribution. The names of the dimensions should coincides with the names of the <code>oval</code> vector. If it has only one dimension, the default name is <code>rvar</code>.</p>
<p>It is expected that the <code>rfunc</code> could be included in the creation of new distributions by convolution or mixture, so the environment should be carefully controlled to avoid reference leaking that is possible within the R language. For that reason, the <code>rfunc</code> should be created within a <code>restrict_environment</code> function that controls that only the variables that are required within the <code>function</code> are saved in the environment of the function.</p>
<p>Once the new objects are instanced, the fields are immutable and should not be changed.</p>
</div>
<div class="section level2">
<h2 id="factory-of-distribution-objects">Factory of <code>DISTRIBUTION</code> objects<a class="anchor" aria-label="anchor" href="#factory-of-distribution-objects"></a>
</h2>
<p>The following functions create new objects of class <code>DISTRIBUTION</code></p>
<table class="table">
<thead><tr class="header">
<th>
Distribution
</th>
<th>
factory
</th>
<th>
parameters
</th>
<th>
function
</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>
uniform
</td>
<td>
new_UNIFORM
</td>
<td>
p_min, p_max
</td>
<td>
runif
</td>
</tr>
<tr class="even">
<td>
normal
</td>
<td>
new_NORMAL
</td>
<td>
p_mean, p_sd
</td>
<td>
rnorm
</td>
</tr>
<tr class="odd">
<td>
beta
</td>
<td>
new_BETA
</td>
<td>
p_shape1, p_shape2
</td>
<td>
rbeta
</td>
</tr>
<tr class="even">
<td>
beta
</td>
<td>
new_BETA_lci
</td>
<td>
p_mean, p_lci, p_uci
</td>
<td>
rbeta
</td>
</tr>
<tr class="odd">
<td>
triangular
</td>
<td>
new_TRIANGULAR
</td>
<td>
p_min, p_max, p_mode
</td>
<td>
rtriangular
</td>
</tr>
<tr class="even">
<td>
poisson
</td>
<td>
new_POISSON
</td>
<td>
p_lambda
</td>
<td>
rpoisson
</td>
</tr>
<tr class="odd">
<td>
exponential
</td>
<td>
new_EXPONENTIAL
</td>
<td>
p_rate
</td>
<td>
rexp
</td>
</tr>
<tr class="even">
<td>
discrete
</td>
<td>
new_DISCRETE
</td>
<td>
p_supp, p_prob
</td>
<td>
sample
</td>
</tr>
<tr class="odd">
<td>
dirichlet
</td>
<td>
new_DIRICHLET
</td>
<td>
p_alpha, p_dimnames
</td>
<td>
rdirichlet
</td>
</tr>
<tr class="even">
<td>
truncated
</td>
<td>
new_TRUNCATED
</td>
<td>
p_distribution, p_min, p_max
</td>
<td>
</td>
</tr>
<tr class="odd">
<td>
dirac
</td>
<td>
new_DIRAC
</td>
<td>
p_value
</td>
<td>
</td>
</tr>
<tr class="even">
<td>
NA
</td>
<td>
new_NA
</td>
<td>
p_dimnames
</td>
<td>
</td>
</tr>
</tbody>
</table>
</div>
<div class="section level2">
<h2 id="methods">Methods<a class="anchor" aria-label="anchor" href="#methods"></a>
</h2>
<p>The following are methods for all objects of class <code>DISTRIBUTION</code></p>
<ul>
<li>
<code>metadata(x)</code> Print the metadata for the distribution</li>
<li>
<code>summary(object, n=10000)</code> Produce a summary of the distribution</li>
<li>
<code>rfunc(x, n)</code> Generate <code>n</code> random drawns of the distribution</li>
<li>
<code>plot(x, n= 10000)</code> Produce a density plot of the distribution</li>
<li>
<code>ggDISTRIBUTION(x, n= 10000)</code> produce a density plot of the distribution using ggplot2</li>
</ul>
<!-- --><div class="sourceCode" id="cb3"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a>myDistr <span class="ot">&lt;-</span> <span class="fu">new_NORMAL</span>(<span class="dv">0</span>,<span class="dv">1</span>)</span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a><span class="fu">metadata</span>(myDistr)</span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a><span class="co">#&gt;   distribution rvar</span></span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a><span class="co">#&gt; 1       NORMAL    0</span></span>
<span id="cb3-5"><a href="#cb3-5" tabindex="-1"></a><span class="fu">rfunc</span>(myDistr, <span class="dv">10</span>)</span>
<span id="cb3-6"><a href="#cb3-6" tabindex="-1"></a><span class="co">#&gt;            rvar</span></span>
<span id="cb3-7"><a href="#cb3-7" tabindex="-1"></a><span class="co">#&gt; 1  -0.202292246</span></span>
<span id="cb3-8"><a href="#cb3-8" tabindex="-1"></a><span class="co">#&gt; 2   2.359176819</span></span>
<span id="cb3-9"><a href="#cb3-9" tabindex="-1"></a><span class="co">#&gt; 3  -0.378977974</span></span>
<span id="cb3-10"><a href="#cb3-10" tabindex="-1"></a><span class="co">#&gt; 4  -1.108465547</span></span>
<span id="cb3-11"><a href="#cb3-11" tabindex="-1"></a><span class="co">#&gt; 5   0.080081266</span></span>
<span id="cb3-12"><a href="#cb3-12" tabindex="-1"></a><span class="co">#&gt; 6  -0.001522165</span></span>
<span id="cb3-13"><a href="#cb3-13" tabindex="-1"></a><span class="co">#&gt; 7   1.140359435</span></span>
<span id="cb3-14"><a href="#cb3-14" tabindex="-1"></a><span class="co">#&gt; 8   0.220586273</span></span>
<span id="cb3-15"><a href="#cb3-15" tabindex="-1"></a><span class="co">#&gt; 9   0.533860090</span></span>
<span id="cb3-16"><a href="#cb3-16" tabindex="-1"></a><span class="co">#&gt; 10  1.450453816</span></span>
<span id="cb3-17"><a href="#cb3-17" tabindex="-1"></a><span class="fu">summary</span>(myDistr)</span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th style="text-align: left;">
distribution
</th>
<th style="text-align: left;">
varname
</th>
<th style="text-align: right;">
oval
</th>
<th style="text-align: right;">
nsample
</th>
<th style="text-align: right;">
mean_
</th>
<th style="text-align: right;">
sd_
</th>
<th style="text-align: right;">
lci_
</th>
<th style="text-align: right;">
median_
</th>
<th style="text-align: right;">
uci_
</th>
</tr></thead>
<tbody><tr class="odd">
<td style="text-align: left;">
NORMAL
</td>
<td style="text-align: left;">
rvar
</td>
<td style="text-align: right;">
0
</td>
<td style="text-align: right;">
10000
</td>
<td style="text-align: right;">
0.01
</td>
<td style="text-align: right;">
1.01
</td>
<td style="text-align: right;">
-1.98
</td>
<td style="text-align: right;">
0.02
</td>
<td style="text-align: right;">
1.97
</td>
</tr></tbody>
</table>
<div class="sourceCode" id="cb4"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="fu">plot</span>(myDistr)</span></code></pre></div>
<p><img src="https://user-images.githubusercontent.com/3891174/61120096-78336b80-a49c-11e9-861c-196c0a72d3d9.png"></p>
<div class="sourceCode" id="cb5"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="fu">ggDISTRIBUTION</span>(myDistr)</span></code></pre></div>
<p><img src="https://user-images.githubusercontent.com/3891174/61120178-a3b65600-a49c-11e9-91bc-2cc16ee98d28.png"></p>
</div>
<div class="section level2">
<h2 id="convolution-for-distribution-with-the-same-dimensions">Convolution for Distribution with the same dimensions<a class="anchor" aria-label="anchor" href="#convolution-for-distribution-with-the-same-dimensions"></a>
</h2>
<p>Mathematical operations like <code>+</code>, <code>-</code>, <code>*</code>, <code>/</code> between <code>DISTRIBUTION</code> with the same dimensions can be perform with the <code>new_CONVOLUTION(listdistr, op, omit_NA = FALSE)</code> function. The <code>listdistr</code> parameter is a list of <code>DISTRIBUTION</code> objects on which the operation is made. A shorter version exists for each one of the operations as follow</p>
<ul>
<li><code>new_SUM(listdistr, omit_NA = FALSE)</code></li>
<li><code>new_SUBTRACTION(listdistr, omit_NA = FALSE)</code></li>
<li><code>new_MULTIPLICATION(listdistr, omit_NA = FALSE)</code></li>
<li><code>new_DIVISION(listdistr, omit_NA = FALSE)</code></li>
</ul>
<p>but Mathematical operator can also be used.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a>d1 <span class="ot">&lt;-</span> <span class="fu">new_NORMAL</span>(<span class="dv">1</span>,<span class="dv">1</span>)</span>
<span id="cb6-2"><a href="#cb6-2" tabindex="-1"></a>d2 <span class="ot">&lt;-</span> <span class="fu">new_UNIFORM</span>(<span class="dv">2</span>,<span class="dv">8</span>)</span>
<span id="cb6-3"><a href="#cb6-3" tabindex="-1"></a>d3 <span class="ot">&lt;-</span> <span class="fu">new_POISSON</span>(<span class="dv">5</span>)</span>
<span id="cb6-4"><a href="#cb6-4" tabindex="-1"></a>dsum <span class="ot">&lt;-</span> <span class="fu">new_SUM</span>(<span class="fu">list</span>(d1,d2,d3))</span>
<span id="cb6-5"><a href="#cb6-5" tabindex="-1"></a>dsum</span>
<span id="cb6-6"><a href="#cb6-6" tabindex="-1"></a><span class="co">#&gt;   distribution rvar</span></span>
<span id="cb6-7"><a href="#cb6-7" tabindex="-1"></a><span class="co">#&gt; 1  CONVOLUTION   11</span></span>
<span id="cb6-8"><a href="#cb6-8" tabindex="-1"></a>d1 <span class="sc">+</span> d2 <span class="sc">+</span> d3</span>
<span id="cb6-9"><a href="#cb6-9" tabindex="-1"></a><span class="co">#&gt;   distribution rvar</span></span>
<span id="cb6-10"><a href="#cb6-10" tabindex="-1"></a><span class="co">#&gt; 1  CONVOLUTION   11</span></span>
<span id="cb6-11"><a href="#cb6-11" tabindex="-1"></a><span class="fu">summary</span>(dsum)</span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th style="text-align: left;">
distribution
</th>
<th style="text-align: left;">
varname
</th>
<th style="text-align: right;">
oval
</th>
<th style="text-align: right;">
nsample
</th>
<th style="text-align: right;">
mean_
</th>
<th style="text-align: right;">
sd_
</th>
<th style="text-align: right;">
lci_
</th>
<th style="text-align: right;">
median_
</th>
<th style="text-align: right;">
uci_
</th>
</tr></thead>
<tbody><tr class="odd">
<td style="text-align: left;">
CONVOLUTION
</td>
<td style="text-align: left;">
rvar
</td>
<td style="text-align: right;">
11
</td>
<td style="text-align: right;">
10000
</td>
<td style="text-align: right;">
11
</td>
<td style="text-align: right;">
3.01
</td>
<td style="text-align: right;">
5.4
</td>
<td style="text-align: right;">
10.88
</td>
<td style="text-align: right;">
17.2
</td>
</tr></tbody>
</table>
<div class="sourceCode" id="cb7"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="fu">ggDISTRIBUTION</span>(dsum)</span></code></pre></div>
<p><img src="https://user-images.githubusercontent.com/3891174/61120240-c8123280-a49c-11e9-9e13-7354424ae8e0.png"></p>
</div>
<div class="section level2">
<h2 id="mixture">Mixture<a class="anchor" aria-label="anchor" href="#mixture"></a>
</h2>
<p>A <code>DISTRIBUTION</code>, consisting on the mixture of several distribution can be obtained with the <code>new_MIXTURE(listdistr, mixture)</code> function where <code>listdistr</code> is a list of <code>DISTRIBUTION</code> objects and <code>mixture</code> the vector of probabilities for each distribution. If missing the mixture, the probability will be the same for each distribution.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a>d1 <span class="ot">&lt;-</span> <span class="fu">new_NORMAL</span>(<span class="dv">1</span>,<span class="fl">0.5</span>)</span>
<span id="cb8-2"><a href="#cb8-2" tabindex="-1"></a>d2 <span class="ot">&lt;-</span> <span class="fu">new_NORMAL</span>(<span class="dv">5</span>,<span class="fl">0.5</span>)</span>
<span id="cb8-3"><a href="#cb8-3" tabindex="-1"></a>d3 <span class="ot">&lt;-</span> <span class="fu">new_NORMAL</span>(<span class="dv">10</span>,<span class="fl">0.5</span>)</span>
<span id="cb8-4"><a href="#cb8-4" tabindex="-1"></a>dmix <span class="ot">&lt;-</span> <span class="fu">new_MIXTURE</span>(<span class="fu">list</span>(d1,d2,d3))</span>
<span id="cb8-5"><a href="#cb8-5" tabindex="-1"></a><span class="fu">summary</span>(dmix)</span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th style="text-align: left;">
distribution
</th>
<th style="text-align: left;">
varname
</th>
<th style="text-align: right;">
oval
</th>
<th style="text-align: right;">
nsample
</th>
<th style="text-align: right;">
mean_
</th>
<th style="text-align: right;">
sd_
</th>
<th style="text-align: right;">
lci_
</th>
<th style="text-align: right;">
median_
</th>
<th style="text-align: right;">
uci_
</th>
</tr></thead>
<tbody><tr class="odd">
<td style="text-align: left;">
MIXTURE
</td>
<td style="text-align: left;">
rvar
</td>
<td style="text-align: right;">
5.33
</td>
<td style="text-align: right;">
10000
</td>
<td style="text-align: right;">
5.32
</td>
<td style="text-align: right;">
3.7
</td>
<td style="text-align: right;">
0.27
</td>
<td style="text-align: right;">
4.99
</td>
<td style="text-align: right;">
10.71
</td>
</tr></tbody>
</table>
<div class="sourceCode" id="cb9"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a><span class="fu">ggDISTRIBUTION</span>(dmix)</span></code></pre></div>
<p><img src="https://user-images.githubusercontent.com/3891174/61120284-e37d3d80-a49c-11e9-9451-295bafe325af.png"><img src="NA"></p>
</div>
<div class="section level2">
<h2 id="convolution-of-distributions-with-different-dimensions">Convolution of distributions with different dimensions<a class="anchor" aria-label="anchor" href="#convolution-of-distributions-with-different-dimensions"></a>
</h2>
<p>When convoluting distribution with different dimensions, there are two possibilities. The <code>new_CONVOLUTION_assoc</code> family of functions perform the operation only on the common dimensions and left the others dimensions as they are, or the <code>new_CONVOLUTION_comb</code> family of functions which perform the operation in the combination of all dimensions.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a>d1 <span class="ot">&lt;-</span> <span class="fu">new_MULTINORMAL</span>(<span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">1</span>), <span class="fu">matrix</span>(<span class="fu">c</span>(<span class="dv">1</span>,<span class="fl">0.3</span>,<span class="fl">0.3</span>,<span class="dv">1</span>), <span class="at">ncol =</span> <span class="dv">2</span>), <span class="at">p_dimnames =</span> <span class="fu">c</span>(<span class="st">"A"</span>,<span class="st">"B"</span>))</span>
<span id="cb10-2"><a href="#cb10-2" tabindex="-1"></a>d2 <span class="ot">&lt;-</span> <span class="fu">new_MULTINORMAL</span>(<span class="fu">c</span>(<span class="dv">3</span>,<span class="dv">4</span>), <span class="fu">matrix</span>(<span class="fu">c</span>(<span class="dv">1</span>,<span class="fl">0.3</span>,<span class="fl">0.3</span>,<span class="dv">1</span>), <span class="at">ncol =</span> <span class="dv">2</span>), <span class="at">p_dimnames =</span> <span class="fu">c</span>(<span class="st">"B"</span>,<span class="st">"C"</span>))</span>
<span id="cb10-3"><a href="#cb10-3" tabindex="-1"></a><span class="fu">summary</span>(d1)</span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th style="text-align: left;">
distribution
</th>
<th style="text-align: left;">
varname
</th>
<th style="text-align: right;">
oval
</th>
<th style="text-align: right;">
nsample
</th>
<th style="text-align: right;">
mean_
</th>
<th style="text-align: right;">
sd_
</th>
<th style="text-align: right;">
lci_
</th>
<th style="text-align: right;">
median_
</th>
<th style="text-align: right;">
uci_
</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">
MULTINORMAL
</td>
<td style="text-align: left;">
A
</td>
<td style="text-align: right;">
0
</td>
<td style="text-align: right;">
10000
</td>
<td style="text-align: right;">
0
</td>
<td style="text-align: right;">
1
</td>
<td style="text-align: right;">
-1.96
</td>
<td style="text-align: right;">
0.01
</td>
<td style="text-align: right;">
1.95
</td>
</tr>
<tr class="even">
<td style="text-align: left;">
MULTINORMAL
</td>
<td style="text-align: left;">
B
</td>
<td style="text-align: right;">
1
</td>
<td style="text-align: right;">
10000
</td>
<td style="text-align: right;">
1
</td>
<td style="text-align: right;">
1
</td>
<td style="text-align: right;">
-0.95
</td>
<td style="text-align: right;">
1.00
</td>
<td style="text-align: right;">
2.94
</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb11"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a><span class="fu">summary</span>(d2)</span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th style="text-align: left;">
distribution
</th>
<th style="text-align: left;">
varname
</th>
<th style="text-align: right;">
oval
</th>
<th style="text-align: right;">
nsample
</th>
<th style="text-align: right;">
mean_
</th>
<th style="text-align: right;">
sd_
</th>
<th style="text-align: right;">
lci_
</th>
<th style="text-align: right;">
median_
</th>
<th style="text-align: right;">
uci_
</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">
MULTINORMAL
</td>
<td style="text-align: left;">
B
</td>
<td style="text-align: right;">
3
</td>
<td style="text-align: right;">
10000
</td>
<td style="text-align: right;">
3.01
</td>
<td style="text-align: right;">
1.00
</td>
<td style="text-align: right;">
1.04
</td>
<td style="text-align: right;">
3.03
</td>
<td style="text-align: right;">
4.97
</td>
</tr>
<tr class="even">
<td style="text-align: left;">
MULTINORMAL
</td>
<td style="text-align: left;">
C
</td>
<td style="text-align: right;">
4
</td>
<td style="text-align: right;">
10000
</td>
<td style="text-align: right;">
4.01
</td>
<td style="text-align: right;">
1.01
</td>
<td style="text-align: right;">
2.04
</td>
<td style="text-align: right;">
4.00
</td>
<td style="text-align: right;">
6.00
</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb12"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a><span class="fu">summary</span>(<span class="fu">new_SUM_assoc</span>(d1,d2))</span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th style="text-align: left;">
distribution
</th>
<th style="text-align: left;">
varname
</th>
<th style="text-align: right;">
oval
</th>
<th style="text-align: right;">
nsample
</th>
<th style="text-align: right;">
mean_
</th>
<th style="text-align: right;">
sd_
</th>
<th style="text-align: right;">
lci_
</th>
<th style="text-align: right;">
median_
</th>
<th style="text-align: right;">
uci_
</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">
CONVOLUTION
</td>
<td style="text-align: left;">
A
</td>
<td style="text-align: right;">
0
</td>
<td style="text-align: right;">
10000
</td>
<td style="text-align: right;">
-0.01
</td>
<td style="text-align: right;">
0.99
</td>
<td style="text-align: right;">
-1.94
</td>
<td style="text-align: right;">
-0.01
</td>
<td style="text-align: right;">
1.92
</td>
</tr>
<tr class="even">
<td style="text-align: left;">
CONVOLUTION
</td>
<td style="text-align: left;">
C
</td>
<td style="text-align: right;">
4
</td>
<td style="text-align: right;">
10000
</td>
<td style="text-align: right;">
4.00
</td>
<td style="text-align: right;">
1.00
</td>
<td style="text-align: right;">
2.05
</td>
<td style="text-align: right;">
3.99
</td>
<td style="text-align: right;">
5.95
</td>
</tr>
<tr class="odd">
<td style="text-align: left;">
CONVOLUTION
</td>
<td style="text-align: left;">
B
</td>
<td style="text-align: right;">
4
</td>
<td style="text-align: right;">
10000
</td>
<td style="text-align: right;">
4.01
</td>
<td style="text-align: right;">
1.42
</td>
<td style="text-align: right;">
1.21
</td>
<td style="text-align: right;">
4.01
</td>
<td style="text-align: right;">
6.80
</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb13"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a><span class="fu">summary</span>(<span class="fu">new_SUM_comb</span>(d1,d2))</span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th style="text-align: left;">
distribution
</th>
<th style="text-align: left;">
varname
</th>
<th style="text-align: right;">
oval
</th>
<th style="text-align: right;">
nsample
</th>
<th style="text-align: right;">
mean_
</th>
<th style="text-align: right;">
sd_
</th>
<th style="text-align: right;">
lci_
</th>
<th style="text-align: right;">
median_
</th>
<th style="text-align: right;">
uci_
</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">
CONVOLUTION
</td>
<td style="text-align: left;">
A_B
</td>
<td style="text-align: right;">
3
</td>
<td style="text-align: right;">
10000
</td>
<td style="text-align: right;">
2.96
</td>
<td style="text-align: right;">
1.42
</td>
<td style="text-align: right;">
0.17
</td>
<td style="text-align: right;">
2.97
</td>
<td style="text-align: right;">
5.76
</td>
</tr>
<tr class="even">
<td style="text-align: left;">
CONVOLUTION
</td>
<td style="text-align: left;">
B_B
</td>
<td style="text-align: right;">
4
</td>
<td style="text-align: right;">
10000
</td>
<td style="text-align: right;">
3.98
</td>
<td style="text-align: right;">
1.41
</td>
<td style="text-align: right;">
1.17
</td>
<td style="text-align: right;">
4.00
</td>
<td style="text-align: right;">
6.71
</td>
</tr>
<tr class="odd">
<td style="text-align: left;">
CONVOLUTION
</td>
<td style="text-align: left;">
A_C
</td>
<td style="text-align: right;">
4
</td>
<td style="text-align: right;">
10000
</td>
<td style="text-align: right;">
3.97
</td>
<td style="text-align: right;">
1.41
</td>
<td style="text-align: right;">
1.28
</td>
<td style="text-align: right;">
3.97
</td>
<td style="text-align: right;">
6.75
</td>
</tr>
<tr class="even">
<td style="text-align: left;">
CONVOLUTION
</td>
<td style="text-align: left;">
B_C
</td>
<td style="text-align: right;">
5
</td>
<td style="text-align: right;">
10000
</td>
<td style="text-align: right;">
4.99
</td>
<td style="text-align: right;">
1.40
</td>
<td style="text-align: right;">
2.20
</td>
<td style="text-align: right;">
4.98
</td>
<td style="text-align: right;">
7.67
</td>
</tr>
</tbody>
</table>
<p><img src="reference/figures/logo.png" align="right" height="139" alt="convdistr website"></p>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=convdistr" class="external-link">View on CRAN</a></li>
<li><a href="https://github.com/johnaponte/convdistr/" class="external-link">Browse source code</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small>GPL (&gt;= 3)</small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing convdistr</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Aponte John <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0002-3014-3673" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Aponte John.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
